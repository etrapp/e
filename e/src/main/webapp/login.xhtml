<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<f:facet name="first"><meta http-equiv="X-UA-Compatible" content="IE=9" /></f:facet>

	<title>#{msg['msg.login.titulo']}</title>
	<link rel="icon" type="image/ico" href="images/favicon.ico" />

	<style type="text/css">
		
		#divPanel {
			position: absolute;
			left: 50%;
			top: 50%;
			margin-left: -200px;
			margin-top: -120px;
		}
		
		.ui-panelgrid > * > tr, .ui-panelgrid > * > tr > td.ui-panelgrid-cell {
	    	border: none;
		}

	</style>
</h:head>
	<f:metadata>
		<f:event type="preRenderView" listener="#{loginBean.checkBrowser}" />
	</f:metadata>

<h:body>

	<div id="divPanel" class="container">
		<center>
			<p:panel header="Login" >
				<h:form id="loginFormId" prependId="false" >
					<p:focus context="panel"/>

					<p:messages id="messages" autoUpdate="true" closable="true" />
							    
					<p:panelGrid id="panel" columns="2" cellpadding="2">
					<p:column >
						<p:outputLabel value="#{msg['msg.login.credencial']}:" />
					</p:column>
					<p:column>
						<p:inputText id="userName"  name="userName" value="#{loginBean.userName}"
							required="true" requiredMessage="#{msg['msg.login.credencial.requerida']}" autocomplete="off"
							label="#{msg['msg.login.credencial']}" />
					</p:column>							
					<p:column>
						<p:outputLabel value="#{msg['msg.login.senha']}:" />
					</p:column>
					<p:column>
						<p:password id="senha" maxlength="20" name="senha" value="#{loginBean.senha}"
							required="true" requiredMessage="#{msg['msg.login.senha.requerida']}" autocomplete="off" />
					</p:column>
					<p:column>
						<p:outputLabel value="#{msg['msg.linguagem']}:" />
					</p:column>
					<p:column>
			         <h:selectOneMenu value="#{loginBean.localeTxt}" 
			            valueChangeListener="#{loginBean.localeChanged}">
			            <f:selectItems value="#{loginBean.countries}" /> 
			         </h:selectOneMenu> 					
					</p:column>
					
					</p:panelGrid>
					<br></br>
					<p:commandButton value="#{msg['msg.login.acessar']}" action="#{loginBean.loginInternal}" ajax="false" update="@form,messages"  >
					</p:commandButton>

				</h:form>
			</p:panel>
		</center>
	</div>

	<div><p style="color:white">v1.0 </p></div>
</h:body>
</html>
